<!DOCTYPE HTML>
<html lang="zh">
<head>
<!-- Generated by javadoc (23) on Sun Jan 04 22:33:51 CST 2026 -->
<title>SBP</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2026-01-04">
<meta name="description" content="declaration: package: PartitionAlgorithm.implementation, class: SBP">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../script-files/script.js"></script>
<script type="text/javascript" src="../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SBP.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../search.html">Search</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">PartitionAlgorithm.implementation</a></li>
<li><a href="SBP.html" class="current-selection">SBP</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#field-summary" tabindex="0">Field Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#field-detail" tabindex="0">Field Details</a>
<ol class="toc-list">
<li><a href="#similarityForAllTask" tabindex="0">similarityForAllTask</a></li>
<li><a href="#similarityForTemp" tabindex="0">similarityForTemp</a></li>
</ol>
</li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E()" tabindex="0">SBP()</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#taskToCore(java.util.Vector,WorkLoadSet.TaskSet)" tabindex="0">taskToCore(Vector, TaskSet)</a></li>
<li><a href="#similarityForTwoTasks(WorkLoad.Task,WorkLoad.Task)" tabindex="0">similarityForTwoTasks(Task, Task)</a></li>
<li><a href="#findMaxSimilarityTasks(java.util.Vector)" tabindex="0">findMaxSimilarityTasks(Vector)</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class SBP" class="title">Class SBP</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../PartitionAlgorithm.html" title="class in PartitionAlgorithm">PartitionAlgorithm.PartitionAlgorithm</a>
<div class="inheritance">PartitionAlgorithm.implementation.SBP</div>
</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">SBP</span>
<span class="extends-implements">extends <a href="../PartitionAlgorithm.html" title="class in PartitionAlgorithm">PartitionAlgorithm</a></span></div>
<div class="block">Similarity\-Based Partitioning (SBP) algorithm implementation.

 <p>This partition algorithm groups tasks according to shared resources and
 assigns groups (pairs and transitive expansions) to processor cores to
 reduce inter\-core shared\-resource contention. The algorithm:
 <ol>
   <li>Computes the total utilization of the provided <code>taskSet</code> and the
       target per\-core utilization <code>U*</code> (average per core).</li>
   <li>Builds similarity entries for every task pair (tasks that share
       one or more <code>SharedResource</code>).</li>
   <li>Repeatedly selects the task pair (or group) with the maximum number
       of shared resources and assigns the involved tasks to a core with
       currently minimal temporary utilization, maintaining per\-core
       temporary utilization in <code>tempU</code>.</li>
   <li>If no similarity remains, assigns any leftover tasks to the currently
       least loaded core.</li>
 </ol>


 <p>Existing template/file header comments are preserved in intent and the
 original author tag is retained.</p></div>
<dl class="notes">
<dt>Author:</dt>
<dd>ShiuJia</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="SBP.Similarity.html" class="type-name-link" title="class in PartitionAlgorithm.implementation">SBP.Similarity</a></code></div>
<div class="col-last even-row-color">
<div class="block">Represents similarity information for a pair (or group) of tasks.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html" title="class or interface in java.util" class="external-link">Vector</a><wbr>&lt;<a href="SBP.Similarity.html" title="class in PartitionAlgorithm.implementation">SBP.Similarity</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#similarityForAllTask" class="member-name-link">similarityForAllTask</a></code></div>
<div class="col-last even-row-color">
<div class="block">All discovered similarity entries for the current <code>taskSet</code>.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html" title="class or interface in java.util" class="external-link">Vector</a><wbr>&lt;<a href="SBP.Similarity.html" title="class in PartitionAlgorithm.implementation">SBP.Similarity</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#similarityForTemp" class="member-name-link">similarityForTemp</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Temporary working set of similarity entries used when selecting the next
 group to place on a core.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">SBP</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a new SBP instance and sets the algorithm name to
 "Similarity-Based Partitioning".</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SBP.Similarity.html" title="class in PartitionAlgorithm.implementation">SBP.Similarity</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findMaxSimilarityTasks(java.util.Vector)" class="member-name-link">findMaxSimilarityTasks</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html" title="class or interface in java.util" class="external-link">Vector</a>&lt;<a href="SBP.Similarity.html" title="class in PartitionAlgorithm.implementation">SBP.Similarity</a>&gt;&nbsp;set)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finds the similarity entry with the maximum number of shared resources.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html" title="class or interface in java.util" class="external-link">Vector</a><wbr>&lt;<a href="../../WorkLoad/SharedResource.html" title="class in WorkLoad">SharedResource</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#similarityForTwoTasks(WorkLoad.Task,WorkLoad.Task)" class="member-name-link">similarityForTwoTasks</a><wbr>(<a href="../../WorkLoad/Task.html" title="class in WorkLoad">Task</a>&nbsp;t1,
 <a href="../../WorkLoad/Task.html" title="class in WorkLoad">Task</a>&nbsp;t2)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the similarity (shared resources) between two tasks.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#taskToCore(java.util.Vector,WorkLoadSet.TaskSet)" class="member-name-link">taskToCore</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html" title="class or interface in java.util" class="external-link">Vector</a>&lt;<a href="../../SystemEnvironment/Core.html" title="class in SystemEnvironment">Core</a>&gt;&nbsp;cores,
 <a href="../../WorkLoadSet/TaskSet.html" title="class in WorkLoadSet">TaskSet</a>&nbsp;taskSet)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Partition tasks in <code>taskSet</code> to the provided <code>cores</code>
 using the similarity-based strategy.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-PartitionAlgorithm.PartitionAlgorithm">Methods inherited from class&nbsp;PartitionAlgorithm.<a href="../PartitionAlgorithm.html" title="class in PartitionAlgorithm">PartitionAlgorithm</a></h3>
<code><a href="../PartitionAlgorithm.html#getName()">getName</a>, <a href="../PartitionAlgorithm.html#setName(java.lang.String)">setName</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="similarityForAllTask">
<h3>similarityForAllTask</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html" title="class or interface in java.util" class="external-link">Vector</a>&lt;<a href="SBP.Similarity.html" title="class in PartitionAlgorithm.implementation">SBP.Similarity</a>&gt;</span>&nbsp;<span class="element-name">similarityForAllTask</span></div>
<div class="block">All discovered similarity entries for the current <code>taskSet</code>.

 <p>Populated by <a href="#similarityForTwoTasks(WorkLoad.Task,WorkLoad.Task)"><code>similarityForTwoTasks(Task, Task)</code></a> when task
 pairs are compared. Each entry records the pair of tasks and their
 common resources.</p></div>
</div>
</section>
</li>
<li>
<section class="detail" id="similarityForTemp">
<h3>similarityForTemp</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html" title="class or interface in java.util" class="external-link">Vector</a>&lt;<a href="SBP.Similarity.html" title="class in PartitionAlgorithm.implementation">SBP.Similarity</a>&gt;</span>&nbsp;<span class="element-name">similarityForTemp</span></div>
<div class="block">Temporary working set of similarity entries used when selecting the next
 group to place on a core.

 <p>This vector holds similarity entries that are related (share tasks)
 to the currently selected maximum similarity entry and is used to
 prioritize placement of related groups before falling back to the
 global similarity list.</p></div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>SBP</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SBP</span>()</div>
<div class="block">Constructs a new SBP instance and sets the algorithm name to
 "Similarity-Based Partitioning".</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="taskToCore(java.util.Vector,WorkLoadSet.TaskSet)">
<h3>taskToCore</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">taskToCore</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html" title="class or interface in java.util" class="external-link">Vector</a>&lt;<a href="../../SystemEnvironment/Core.html" title="class in SystemEnvironment">Core</a>&gt;&nbsp;cores,
 <a href="../../WorkLoadSet/TaskSet.html" title="class in WorkLoadSet">TaskSet</a>&nbsp;taskSet)</span></div>
<div class="block">Partition tasks in <code>taskSet</code> to the provided <code>cores</code>
 using the similarity-based strategy.

 <p>Behavior details:</p>
 <ol>
   <li>Compute total utilization of <code>taskSet</code> and the average per
       core target <code>U*</code> (printed for debugging).</li>
   <li>Construct pairwise similarity entries for every pair of tasks
       (tasks that share at least one <code>SharedResource</code>).</li>
   <li>Select the similarity entry with the largest number of shared
       resources and assign all tasks in that entry to the core with
       the minimum current temporary utilization <code>tempU</code>.</li>
   <li>Use <code>similarityForTemp</code> to collect related similarity
       entries (sharing a task with the selected entry) and continue
       assignment from that set when possible; otherwise fall back to the
       global similarity list.</li>
   <li>After all similarity groups with resources are processed, assign
       leftover tasks to the least loaded core.</li>
 </ol></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../PartitionAlgorithm.html#taskToCore(java.util.Vector,WorkLoadSet.TaskSet)">taskToCore</a></code>&nbsp;in class&nbsp;<code><a href="../PartitionAlgorithm.html" title="class in PartitionAlgorithm">PartitionAlgorithm</a></code></dd>
<dt>Parameters:</dt>
<dd><code>cores</code> - the list of available cores to which tasks will be assigned;
              this method mutates the cores by calling <code>addTask</code>
              on them</dd>
<dd><code>taskSet</code> - the set of tasks to partition and assign to cores</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="similarityForTwoTasks(WorkLoad.Task,WorkLoad.Task)">
<h3>similarityForTwoTasks</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html" title="class or interface in java.util" class="external-link">Vector</a>&lt;<a href="../../WorkLoad/SharedResource.html" title="class in WorkLoad">SharedResource</a>&gt;</span>&nbsp;<span class="element-name">similarityForTwoTasks</span><wbr><span class="parameters">(<a href="../../WorkLoad/Task.html" title="class in WorkLoad">Task</a>&nbsp;t1,
 <a href="../../WorkLoad/Task.html" title="class in WorkLoad">Task</a>&nbsp;t2)</span></div>
<div class="block">Computes the similarity (shared resources) between two tasks.

 <p>Creates a <code>Similarity</code> entry containing the set of shared
 resources common to both tasks and adds it to
 <code>similarityForAllTask</code>. Returns the list of shared resources.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>t1</code> - the first task</dd>
<dd><code>t2</code> - the second task</dd>
<dt>Returns:</dt>
<dd>the vector of shared resources common to both tasks</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="findMaxSimilarityTasks(java.util.Vector)">
<h3>findMaxSimilarityTasks</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SBP.Similarity.html" title="class in PartitionAlgorithm.implementation">SBP.Similarity</a></span>&nbsp;<span class="element-name">findMaxSimilarityTasks</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html" title="class or interface in java.util" class="external-link">Vector</a>&lt;<a href="SBP.Similarity.html" title="class in PartitionAlgorithm.implementation">SBP.Similarity</a>&gt;&nbsp;set)</span></div>
<div class="block">Finds the similarity entry with the maximum number of shared resources.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>set</code> - the vector of similarity entries to search</dd>
<dt>Returns:</dt>
<dd>the similarity entry with the most shared resources, or null
         if the set is empty</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
